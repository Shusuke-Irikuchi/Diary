# BFFについて

## 調べる前
- GraphQLが登場するイメージ
- Backend For Frontendの頭文字でBFFらしい

## オレオレ調査開始🕵️‍♀️

### 背景
2000年代になってAjax通信が浸透しバックエンド(サーバ）はよりAPIに特化し, フロントエンドはよりUI/UXに特化した構築がなされるようになった。  
そのため,マイクロサービスという考え方が生まれた。 
そして、フロントエンド側にクライアントごとの要求に答えるためんサーバーを配置してバックエンドのAPIサーバーとの仲介役となるアーキテクチャが開発された
これがBFF.
<img width="638" alt="スクリーンショット 2020-06-26 16 48 47" src="https://user-images.githubusercontent.com/56505469/85833617-faf82800-b7cc-11ea-8c5b-11b9c0c74669.png">
[BFF（Backends For Frontends）](https://www.atmarkit.co.jp/ait/articles/1803/12/news012.html)

### 仕様
BFFは主にフロントエンド側で開発担当をすることが多い.理由としてUIを構築、操作する手助けをするサーバだから  
....そりゃあそうだろ😑....  
BFFは主に二元化されSSRのような①クライアントの機能を一部肩代わりするものと②バックエンドとフロントエンドの仲介役になる者に分類される.そして,主なユースケースとして
- ②API GateWay APIをまとめて複数のAPIを1つに集約したり、APIをクライアント用に翻訳したりする
- ①SSR サーバーサイドでHTMLを構築することで高速化が可能となる
- 

待てよ..なんでAPIを一つにまとめる必要があるの?
http/1.1の場合,サーバーのTCPコネクションは最大6つまで可能(6つあるけど,規約に同時接続は2つまでにすべきとある)であるがその分サーバーの負荷が増加してします。
そのため、httpパイプラインという物があるがこれはある特定の通信が遅い場合に後ろの通信を待たせてしまう。(Head of Line Blocking)
そのため,BFFを用意することでリクエストを1つにまとめることが可能になり,リソースを有効的に活用できる.
